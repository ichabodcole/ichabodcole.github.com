!function(){function a(a,b){b=b||{bubbles:!1,cancelable:!1,detail:void 0};var c=document.createEvent("CustomEvent");return c.initCustomEvent(a,b.bubbles,b.cancelable,b.detail),c}try{a.prototype=window.CustomEvent.prototype}catch(b){console.log("Your browser does not support the CustomEvent API",b)}window.CustomEvent=a}();var Scrollemetry=function(){function a(a,b){b=b||{bubbles:!1,cancelable:!1,detail:void 0};var c=document.createEvent("CustomEvent");return c.initCustomEvent(a,b.bubbles,b.cancelable,b.detail),c}function b(a){this._el=a,this._lastScroll=0,this._direction=null,this._speed=0,this._scroll=0,this._markers=[]}try{a.prototype=window.CustomEvent.prototype}catch(c){console.log("Your browser does not support the CustomEvent API",c)}return window.CustomEvent=a,b.prototype=function(){var b=function(b){var c=new a(b.id,{detail:b});this._el.dispatchEvent(c)},c=function(a){var b=this._markers.map(function(b,c){return b.id===a?c:void 0});return b[0]},d=function(){var a=this;this._markers.forEach(function(c){a._scroll>=c.scrollPosition&&c.past===!1?(c.past=!0,b.call(a,c)):a._scroll<c.scrollPosition&&c.past===!0&&(c.past=!1,b.call(a,c))})},e=function(a,b){var d,e;e={id:a,scrollPosition:b,past:!1},d=c.call(this,a),void 0===d?this._markers.push(e):this._markers[d]=e},f=function(a){var b=this._markers.filter(function(b){return b.id===a});return b[0]},g=function(a){this._scroll=a,this._speed=this._scroll-this._lastScroll,this._direction=this._scroll>this._lastScroll?"down":this._scroll<this._lastScroll?"up":null,d.call(this),this._lastScroll=this._scroll},h=function(){return this._speed},i=function(){return this._direction},j=function(){return this._scroll},k=function(){return this._markers},l=function(){return this._lastScroll};return{speed:h,direction:i,scroll:j,markers:k,lastScroll:l,addMarker:e,getMarkerById:f,update:g}}(),b}(),ichaBlog=function(a){function b(a){u.forEach(function(b){b.getElementsByTagName("span")[0].className=a})}function c(){b("disabled"),s.removeEventListener("click",f,!1),t.removeEventListener("click",e,!1)}function d(){b(""),s.addEventListener("click",f,!1),t.addEventListener("click",e,!1)}function e(a){a.preventDefault(),a.stopPropagation(),document.dispatchEvent(v),c()}function f(a){a.preventDefault(),a.stopPropagation(),document.dispatchEvent(w),c()}function g(){return r.offsetHeight}function h(){r.style.top=0,q=!0}function i(){r.style.top=-(g()+50)+"px",q=!1}function j(a,b){return a>b?!0:!1}function k(a,b,c){return"down"===a&&j(b,c)?!0:!1}function l(a,b,c){return"up"!==a||j(b,c)?!1:!0}function m(a,b,c){return"up"===a&&Math.abs(b)>c?!0:!1}function n(){window.requestAnimationFrame(function(){var a=p.scroll(),b=p.speed(),c=p.direction(),d=g()-.2*g();p.update(document.body.scrollTop),k(c,a,d)&&q===!0&&i(),l(c,a,d)&&q===!1&&h(),m(c,b,15)&&j(a,d)&&q===!1&&h()})}function o(a){a.matches?(document.removeEventListener("scroll",n,!1),h()):document.addEventListener("scroll",n,!1)}var p=new Scrollemetry(document),q=!0,r=document.querySelector("header"),s=document.getElementById("more-btn"),t=document.getElementById("about-btn"),u=[s,t],v=new CustomEvent("aboutClick",{bubbles:!0}),w=new CustomEvent("moreClick",{bubbles:!0}),x=window.matchMedia("(max-width: 35em)");return document.addEventListener("closeClick",d,!1),x.addListener(o),o(x),d(),a}(ichaBlog||{}),ichaBlog=function(a){function b(a){return a.offsetWidth+i}function c(){n.style.transition=j+"s left",n.style.left=0,document.dispatchEvent(q)}function d(){o.style.transition=j+"s right",o.style.right=0,document.dispatchEvent(q)}function e(){f(),g()}function f(){var a=b(n);n.style.left=-a*k+"px",document.dispatchEvent(p)}function g(){var a=b(o);o.style.right=-a*k+"px",document.dispatchEvent(p)}function h(a){k=a.matches?1.5:1}var i=25,j=.6,k=1,l=document.querySelector("#about-panel .panel-close-btn"),m=document.querySelector("#more-panel .panel-close-btn"),n=document.getElementById("about-panel"),o=document.getElementById("more-panel"),p=new CustomEvent("closeClick",{bubbles:!0}),q=new CustomEvent("openPanel",{bubbles:!0}),r=window.matchMedia("(max-width: 35em)");return l.addEventListener("click",f,!1),m.addEventListener("click",g,!1),document.addEventListener("aboutClick",c,!1),document.addEventListener("moreClick",d,!1),document.addEventListener("containerClick",e,!1),r.addListener(h),h(r),f(),g(),a}(ichaBlog||{}),ichaBlog=function(a){function b(){document.dispatchEvent(q)}function c(a){setTimeout(function(){document.body.style.overflow=a},25)}function d(){n.style.opacity=.3,c("hidden"),n.addEventListener("click",b,!1)}function e(){n.style.opacity=1,c("auto"),n.removeEventListener("click",b,!1)}function f(){return p.offsetHeight}function g(){o.style.marginTop=m+"px"}function h(){o.style.marginTop=f()+m+"px"}function i(a){a.matches?(g(),window.removeEventListener("resize",j)):(h(),window.addEventListener("resize",j))}function j(){window.requestAnimationFrame(h)}function k(a,b){a.innerText?a.innerText=b:a.textContent=b}function l(){var b=document.querySelector("header .post-title h1"),c=document.querySelector("header .post-title h2"),d=a.pageTitle,e=a.pageSubtitle;""===e?c.parentNode.removeChild(c):k(c,"~ "+e+" ~"),k(b,d)}var m=15,n=document.querySelector(".container"),o=document.querySelector("article"),p=document.querySelector("header"),q=new CustomEvent("containerClick",{bubbles:!0}),r=window.matchMedia("(max-width: 35em)");return document.addEventListener("aboutClick",d),document.addEventListener("moreClick",d),document.addEventListener("closeClick",e),r.addListener(i),l(),i(r),ichaBlog}(ichaBlog||{});